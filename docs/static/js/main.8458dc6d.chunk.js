(this["webpackJsonpprueba-quick"]=this["webpackJsonpprueba-quick"]||[]).push([[0],{41:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),s=n(22),o=n.n(s),i=(n(52),n(14)),l=(n(53),n(45)),j=n(8),u=n(70),d=n(69),p=n(43),b=n(11),m=n.n(b),h=n(7),f=n(18),O=n(75),x=Object(a.createContext)(),v=(JSON.parse(localStorage.getItem("pokemons"))||[{pokemons_species:[]}]).pokemon_entries,g=n(29),k=n(74),y=function(e){return("00"+e.split("/")[6]).slice(-3)},F=function(e){var t=[],n=function(n){if("evolves_to"===n){var c=function(c){if("evolves_to"===c){var a=function(a){"species"===a&&function(){var r=y(e[n][0][c][0][a].url);t=[].concat(Object(h.a)(t),[{id:r,name:e[n][0][c][0][a].name}])}()};for(var r in e[n][0][c][0])a(r)}else if("species"===c){var s=y(e[n][0][c].url);t=[].concat(Object(h.a)(t),[{id:s,name:e[n][0][c].name}])}};for(var a in e[n][0])c(a)}else if("species"===n){var r=y(e[n].url);t=[].concat(Object(h.a)(t),[{id:r,name:e[n].name}])}};for(var c in e)n(c);return t},N=n(71),w=n(67),C=function(e){var t=e.cells;return Object(c.jsx)(w.a,{bordered:!0,hover:!0,striped:!0,children:Object(c.jsx)("tbody",{children:t.map((function(e,t){var n=e.title,a=e.name;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:n}),Object(c.jsx)("td",{children:a})]},"cells-".concat(a,"-").concat(t))}))})})},_=n(68),S=function(e){var t=e.tags;return Object(c.jsx)(c.Fragment,{children:t.map((function(e){var t=e.type.name;return Object(c.jsx)(_.a,{pill:!0,variant:"info",className:"mr-2",children:t},"tag-".concat(t))}))})},E=n.p+"static/media/arrow_right.88cab351.svg",I=function(e){var t=e.evolutions;return Object(c.jsx)(c.Fragment,{children:0!==t.length?t.map((function(e,n){var r=e.id,s=e.name;return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsxs)(p.a,{xs:12,sm:12,md:2,children:[Object(c.jsx)("img",{alt:"evolucion 1",src:"https://assets.pokemon.com/assets/cms2/img/pokedex/detail/".concat(r,".png"),style:{width:"100%"}}),Object(c.jsx)("p",{className:"text-center",children:s})]}),n!==t.length-1&&Object(c.jsx)(p.a,{className:"d-flex align-center justify-content-center",xs:12,sm:12,md:2,children:Object(c.jsx)("img",{alt:"arrow-right",src:E})})]},"evol-".concat(r))})):Object(c.jsx)("p",{children:"El pokemon no tiene evoluci\xf3n"})})},J=function(e){var t=e.state,n=t.modal,a=t.name,r=t.idPok,s=t.table,o=t.tags,i=t.evolutions,l=void 0===i?[]:i,j=e.onHide;return Object(c.jsx)(N.a,{show:n,onHide:j,"aria-labelledby":"contained-modal-title-vcenter",size:"xl",centered:!0,children:Object(c.jsxs)(N.a.Body,{children:[Object(c.jsxs)(d.a,{style:{margin:"1rem"},children:[Object(c.jsx)(p.a,{md:6,className:"align-self-center",children:Object(c.jsx)("img",{alt:"imagen de pokemon",src:"https://assets.pokemon.com/assets/cms2/img/pokedex/detail/".concat(r,".png"),style:{width:"100%"}})}),Object(c.jsxs)(p.a,{md:6,children:[Object(c.jsx)("h4",{children:"".concat(a," ").concat(r," ")}),Object(c.jsx)("p",{children:"descripttion"}),Object(c.jsx)(C,{cells:s}),Object(c.jsx)("h5",{children:"Tipos"}),Object(c.jsx)(S,{tags:o})]})]}),Object(c.jsx)(d.a,{style:{borderTop:"2px solid gray",margin:"2rem"},children:Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)("h5",{children:"Evoluci\xf3n"}),1!==l.length?Object(c.jsx)("div",{className:"d-flex justify-content-center",children:Object(c.jsx)(I,{evolutions:l})}):Object(c.jsx)("p",{children:"No tiene evoluci\xf3n"})]})})]})})},P=(n(57),function(e){var t=e.data,n=t.name,r=t.url,s=Object(a.useState)({modal:!1,idPok:"000",name:n,table:{altura:"",peso:"",genero:"",habitat:"",color:""},tags:[],evolutions:{}}),o=Object(i.a)(s,2),l=o[0],j=o[1],u=function(){var e=Object(f.a)(m.a.mark((function e(){var t,c,a,r,s,o,i,u,d,p,b,f,O,x,v;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/pokemon/".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return c=e.sent,a=c.height,r=c.weight,s=c.types,e.next=11,fetch("https://pokeapi.co/api/v2/pokemon-species/".concat(n));case 11:return o=e.sent,e.next=14,o.json();case 14:return i=e.sent,u=i.habitat,d=i.color,p=i.gender_rate,b=i.evolution_chain,e.next=21,fetch(b.url);case 21:return f=e.sent,e.next=24,f.json();case 24:O=e.sent,x=O.chain,v=F(x),j(Object(g.a)(Object(g.a)({},l),{},{modal:!l.modal,table:[{title:"altura",name:a},{title:"peso",name:r},{title:"genero",name:1===p?"masculino - femenino":"sin genero"},{title:"habitat",name:null!==u&&Object(h.a)(u.name)},{title:"color",name:Object(h.a)(d.name)}],tags:Object(h.a)(s),evolutions:v.sort((function(e,t){return e.id-t.id}))}));case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=y(r);j(Object(g.a)(Object(g.a)({},l),{},{idPok:e}))}),[n]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(J,{state:l,onHide:u}),Object(c.jsxs)(k.a,{style:{width:"100%",cursor:"pointer"},onClick:u,children:[Object(c.jsx)(k.a.Img,{src:"https://assets.pokemon.com/assets/cms2/img/pokedex/detail/".concat(l.idPok,".png"),alt:"Card imagen"}),Object(c.jsx)(k.a.Footer,{children:Object(c.jsx)(k.a.Title,{className:"text-center mb-0",children:n})})]})]})}),B=function(){var e=Object(a.useContext)(x),t=e.state,n=e.dispatch,r=function(){var e=Object(f.a)(m.a.mark((function e(){var c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=[],console.log(v),a=t.length;a<t.length+20;a++)c=[].concat(Object(h.a)(c),[v[a].pokemon_species]);n({type:"load",payload:{pokemons:c}});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(d.a,{children:0!==t.length?t.map((function(e,t){return Object(c.jsx)(p.a,{xs:6,md:4,className:"mt-3",children:Object(c.jsx)(P,{data:e})},"el-".concat(t))})):Object(c.jsx)("p",{className:"m-4",children:"No se encuetran pokemons"})}),Object(c.jsx)(d.a,{children:t.length<800&&Object(c.jsx)(p.a,{className:"mt-3",md:{span:5,offset:5},children:Object(c.jsx)(O.a,{variant:"primary",onClick:r,children:"Ver m\xe1s"})})})]})},T=function(){var e=Object(f.a)(m.a.mark((function e(t,n){var c,a,r,s,o,i,l,j,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.by,a=n.id,r=n.destruc,s=n.proper,o=void 0===s?null:s,i=n.flag,l=n.setFirstFilter,e.next=3,fetch("".concat("https://pokeapi.co/api/v2","/").concat(c,"/").concat(a));case 3:return j=e.sent,e.next=6,j.json();case 6:0!==(u=e.sent)[r].length&&(d=[],u[r].map((function(e){d=[].concat(Object(h.a)(d),null!==o?[e[o]]:[e])})),l(i+1),t({type:"filter",payload:{filters:d,flag:i}}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(e){var t=Object(a.useRef)(!0),n=Object(a.useState)({data:null,loading:!0,error:null}),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){return function(){t.current=!1}}),[]),Object(a.useEffect)((function(){s({loading:!0,error:null,data:null,offset:0}),fetch(e).then((function(e){return e.json()})).then((function(e){t.current?s({loading:!1,error:null,data:e,offset:0}):console.log("setState no se llam\xf3")})).catch((function(){return s({loading:!1,error:"No se cargo la info",data:null,offset:0})}))}),[e]),[r,s]},q=(n(41),function(){var e=Object(a.useContext)(x),t=e.dispatch,n=e.firstFilter,r=e.setFirstFilter,s=H("".concat("https://pokeapi.co/api/v2","/pokemon-color")),o=Object(i.a)(s,1)[0],l=o.data,j=o.loading,u=function(){var e=Object(f.a)(m.a.mark((function e(c){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(t,{by:"pokemon-color",id:c.target.id,destruc:"pokemon_species",flag:n,setFirstFilter:r});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h5",{className:"m-2",children:"Colores"}),Object(c.jsx)("div",{className:"grid-colors m-2",children:!j&&l.results.map((function(e){var t=e.name;return Object(c.jsxs)("label",{className:"control control-checkbox",children:[Object(c.jsx)("input",{id:t,type:"checkbox",onClick:u}),Object(c.jsx)("div",{className:"control_indicator",style:{backgroundColor:t}})]},"customCheck-".concat(t))}))})]})}),A=n(72),R=function(e){var t=e.typeForm,n=void 0===t?"radio":t,r=e.url,s=void 0===r?"types":r,o=e.title,l=Object(a.useContext)(x),j=l.dispatch,u=l.firstFilter,d=l.setFirstFilter,p=H("".concat("https://pokeapi.co/api/v2","/").concat(s)),b=Object(i.a)(p,1)[0],h=b.data,O=b.loading,v=function(){var e=Object(f.a)(m.a.mark((function e(t){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(j,"gender"===(c="radio"===n?"gender":"type")?{by:c,id:t.target.id,destruc:"pokemon_species_details",proper:"pokemon_species",flag:u,setFirstFilter:d}:{by:c,id:t.target.id,destruc:"pokemon",proper:"pokemon",flag:u,setFirstFilter:d});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h5",{className:"m-2",children:o}),Object(c.jsx)(A.a,{className:"m-2",children:Object(c.jsx)("div",{className:"checkbox"===n?"grid-form":null,children:!O&&h.results.map((function(e){var t=e.name;return Object(c.jsx)(A.a.Check,{onChange:v,type:n,name:n,id:t,label:t},"".concat(n,"-").concat(t))}))})})]})},z=(n(59),function(){return Object(c.jsx)(u.a,{children:Object(c.jsxs)(d.a,{children:[Object(c.jsx)(p.a,{md:3,className:"mt-3",children:Object(c.jsxs)("div",{className:"card-filters",children:[Object(c.jsx)("div",{className:"m-2",children:Object(c.jsx)("h4",{children:"Filtros"})}),Object(c.jsx)(R,{typeForm:"checkbox",url:"type",title:"Tipos"}),Object(c.jsx)(q,{}),Object(c.jsx)(R,{typeForm:"radio",url:"gender",title:"Genero"})]})}),Object(c.jsx)(p.a,{md:9,children:Object(c.jsx)(B,{})})]})})}),D=n.p+"static/media/logo.e57f7ae6.svg",G=n.p+"static/media/search.4dcfd518.svg",M=function(){var e=Object(a.useContext)(x).dispatch;return Object(c.jsxs)("a",{className:"navbar-pointer ml-auto",href:"!#",onBlur:function(t){t.target.value=null,e({type:"again",payload:{}})},onClick:function(e){e.preventDefault(),e.target.value=null},onChange:function(t){e({type:"search",payload:{value:t.target.value}})},children:[Object(c.jsx)("img",{src:G,alt:"search"}),Object(c.jsx)("input",{type:"search",placeholder:"search"})]})},V=n(73),K=(n(60),function(){return Object(c.jsx)(u.a,{children:Object(c.jsx)(d.a,{children:Object(c.jsx)(p.a,{children:Object(c.jsxs)(V.a,{expand:"sm",children:[Object(c.jsx)(V.a.Brand,{children:Object(c.jsx)("img",{src:D,alt:"logo",width:"56"})}),Object(c.jsx)(V.a.Collapse,{children:Object(c.jsx)(M,{})})]})})})})}),L=function(){return Object(c.jsxs)(l.a,{children:[Object(c.jsx)(K,{}),Object(c.jsx)(j.c,{children:Object(c.jsx)(j.a,{exact:!0,path:"/",component:z})})]})},Q=function(e){var t=[];if(Array.isArray(e))for(var n=0;n<20;n++)t=[].concat(Object(h.a)(t),[e[n].pokemon_species]);return t},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"start":var n=JSON.parse(localStorage.getItem("pokemons"))||[{pokemons_species:[]}],c=n.pokemon_entries,a=Q(c);return Object(h.a)(a);case"load":return[].concat(Object(h.a)(e),Object(h.a)(t.payload.pokemons));case"search":var r=e.filter((function(e){return Object.values(e).some((function(e){return e.includes(t.payload.value)}))}));return r;case"again":return Q();case"filter":if(t.payload.flag<1&&0!==t.payload.filters.length&&(e=[]),0!==t.payload.filters.length){var s=(e=[].concat(Object(h.a)(e),Object(h.a)(t.payload.filters))).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}));return Object(h.a)(s)}return Object(h.a)(e);case"remove":return[]}},W=function(){return Q()||[]};var X=function(){var e=H("".concat("https://pokeapi.co/api/v2","/pokedex/national")),t=Object(i.a)(e,1)[0].data,n=Object(a.useReducer)(U,[],W),r=Object(i.a)(n,2),s=r[0],o=r[1],l=Object(a.useState)(0),j=Object(i.a)(l,2),u=j[0],d=j[1];return Object(a.useEffect)((function(){null!==t&&localStorage.setItem("pokemons",JSON.stringify(t)),o({type:"start",payload:{}})}),[t]),Object(c.jsx)(x.Provider,{value:{state:s,dispatch:o,firstFilter:u,setFirstFilter:d},children:Object(c.jsx)(L,{})})};n(64);o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(X,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.8458dc6d.chunk.js.map